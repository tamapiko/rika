<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂåñÂ≠¶ÂÖÉÁ¥†„ÇØ„Ç§„Ç∫</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            text-align: center;
        }

        .container {
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #007bff;
        }

        #quizSection {
            display: none;
        }

        #question {
            font-size: 24px;
            margin-bottom: 20px;
        }

        #options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }

        #inputAnswer {
            margin-top: 20px;
            padding: 10px;
            font-size: 16px;
        }

        #result {
            font-size: 18px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ÂåñÂ≠¶ÂÖÉÁ¥†„ÇØ„Ç§„Ç∫</h1>
        <div id="modeSelection">
            <label><input type="radio" name="mode" value="practice" checked> Á∑¥Áøí„É¢„Éº„Éâ</label>
            <label><input type="radio" name="mode" value="test"> „ÉÜ„Çπ„Éà„É¢„Éº„Éâ</label>
        </div>
        <button onclick="startGame()" id="startButton">„Ç≤„Éº„É†ÈñãÂßã</button>

        <div id="quizSection">
            <div id="question"></div>
            <div id="options"></div>
            <input type="text" id="inputAnswer" placeholder="„Åì„Åì„Å´ÂåñÂ≠¶Ë®òÂè∑„ÇíÂÖ•Âäõ">
            <button onclick="checkInputAnswer()">ÂõûÁ≠î„Åô„Çã</button>
            <p id="result"></p>
        </div>
    </div>

    <script>
        const elements = [
            { name: "Ê∞¥Á¥†", symbol: "H" },
            { name: "ÈÖ∏Á¥†", symbol: "O" },
            { name: "ÁÇ≠Á¥†", symbol: "C" },
            { name: "Á°´ÈªÑ", symbol: "S" },
            { name: "ÈâÑ", symbol: "Fe" },
            { name: "ÈäÖ", symbol: "Cu" },
            { name: "ÈäÄ", symbol: "Ag" },
            { name: "„Éä„Éà„É™„Ç¶„É†", symbol: "Na" },
            { name: "„Ç´„É´„Ç∑„Ç¶„É†", symbol: "Ca" },
            { name: "„Éû„Ç∞„Éç„Ç∑„Ç¶„É†", symbol: "Mg" }
        ];

        let currentElementIndex = 0;
        let numCorrect = 0;
        let mode = "practice"; // ÂàùÊúü„ÅØÁ∑¥Áøí„É¢„Éº„Éâ

        function startGame() {
            mode = document.querySelector('input[name="mode"]:checked').value;
            document.getElementById("modeSelection").style.display = "none";
            document.getElementById("quizSection").style.display = "block";
            document.getElementById("startButton").style.display = "none";
            displayQuestion();
        }

        function displayQuestion() {
            const questionDiv = document.getElementById("question");
            const currentElement = elements[currentElementIndex];

            if (mode === "practice") {
                questionDiv.textContent = `${currentElement.name}„ÅÆÂåñÂ≠¶Ë®òÂè∑„ÅØÔºü`;

                const optionsDiv = document.getElementById("options");
                optionsDiv.innerHTML = "";

                const correctSymbol = currentElement.symbol;
                const options = getRandomOptions(correctSymbol, 2); // Ê≠£Ëß£„ÇíÂê´„ÇÄÈÅ∏ÊäûËÇ¢„Çí2„Å§‰ΩúÊàê
                options.push(correctSymbol); // Ê≠£Ëß£„ÅÆÂåñÂ≠¶Ë®òÂè∑„ÇíËøΩÂä†„Åó„Å¶„Ç∑„É£„ÉÉ„Éï„É´„Åô„Çã

                const shuffledOptions = shuffleArray(options);
                shuffledOptions.forEach(symbol => {
                    const button = document.createElement("button");
                    button.textContent = symbol;
                    button.onclick = () => checkAnswer(symbol);
                    optionsDiv.appendChild(button);
                });

                document.getElementById("inputAnswer").style.display = "none";
            } else if (mode === "test") {
                questionDiv.textContent = `${currentElement.name}„ÅÆÂÖÉÁ¥†Âêç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö`;
                document.getElementById("options").innerHTML = "";
                document.getElementById("inputAnswer").style.display = "inline";
            }
        }

        function checkAnswer(selectedSymbol) {
            const correctSymbol = elements[currentElementIndex].symbol;
            const resultDiv = document.getElementById("result");

            if (selectedSymbol === correctSymbol) {
                numCorrect++;
                resultDiv.textContent = "Ê≠£Ëß£ÔºÅüéâ";
            } else {
                resultDiv.textContent = `‰∏çÊ≠£Ëß£ üòû Ê≠£Ëß£„ÅØ ${correctSymbol} (${elements[currentElementIndex].name})`;
            }

            currentElementIndex++;
            if (currentElementIndex < elements.length) {
                displayQuestion();
            } else {
                const scorePercentage = (numCorrect / elements.length) * 100;
                resultDiv.textContent = `„ÇØ„Ç§„Ç∫ÁµÇ‰∫ÜÔºÅÊ≠£Á≠îÁéá„ÅØ ${scorePercentage.toFixed(1)}% (${numCorrect}/${elements.length})`;
                document.getElementById("inputAnswer").style.display = "none";
            }
        }

        function checkInputAnswer() {
            const inputAnswer = document.getElementById("inputAnswer").value.toUpperCase();
            const correctName = elements[currentElementIndex].name;
            const resultDiv = document.getElementById("result");

            if (inputAnswer === correctName) {
                numCorrect++;
                resultDiv.textContent = "Ê≠£Ëß£ÔºÅüéâ";
            } else {
                const correctSymbol = elements[currentElementIndex].symbol;
                resultDiv.textContent = `‰∏çÊ≠£Ëß£ üòû Ê≠£Ëß£„ÅØ ${correctSymbol} (${correctName})`;
            }

            currentElementIndex++;
            if (currentElementIndex < elements.length) {
                displayQuestion();
            } else {
                const scorePercentage = (numCorrect / elements.length) * 100;
                resultDiv.textContent = `„ÇØ„Ç§„Ç∫ÁµÇ‰∫ÜÔºÅÊ≠£Á≠îÁéá„ÅØ ${scorePercentage.toFixed(1)}% (${numCorrect}/${elements.length})`;
                document.getElementById("inputAnswer").style.display = "none";
            }
        }

        function getRandomOptions(correctSymbol, numOptions) {
            const options = [];
            while (options.length < numOptions) {
                const randomIndex = Math.floor(Math.random() * elements.length);
                const randomSymbol = elements[randomIndex].symbol;
                if (randomSymbol !== correctSymbol && !options.includes(randomSymbol)) {
                    options.push(randomSymbol);
                }
            }
            return options;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
    </script>
</body>
</html>
